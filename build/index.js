!function(){"use strict";var e=window.wp.blocks,t=window.wp.element,l=window.wp.i18n,n=window.wp.blockEditor,a=window.wp.components,o=window.React,r=window.wp.data;function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e},c.apply(this,arguments)}(0,e.registerBlockType)("bookwhen/schedule",{title:"Bookwhen Schedule",description:"Render your Bookwhen Schedule directly in a Wordpress page. Requires a Bookwhen API key",category:"common",icon:"calendar",supports:{align:["full","wide"],html:!1},attributes:{blockId:{type:"string"},key:{type:"string"},filterTags:{type:"string"},buttonBg:{type:"string"},buttonColor:{type:"string"}},edit:function(e){const{attributes:c,setAttributes:s,clientId:i}=e;s({blockId:i}),c.key&&new Event("bookwhen-edit");const u=(0,r.useSelect)("core/block-editor").getSettings().colors,[d,m]=(0,o.useState)();return(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",(0,n.useBlockProps)(),(0,l.__)("Bookwhen Schedule","bookwhen-schedule"),"|",c.key?function(e,l){let n={backgroundColor:e,color:l};return(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{class:"inner"},(0,t.createElement)("h3",null,"Example Month YEAR"),(0,t.createElement)("ul",null,(0,t.createElement)("li",null,(0,t.createElement)("div",{class:"wrapper"},(0,t.createElement)("div",{class:"day-time"},(0,t.createElement)("span",{class:"day"},"Day 1st")," ",(0,t.createElement)("span",{class:"time"},"time")),(0,t.createElement)("div",{class:"title"},"Activity"),(0,t.createElement)("div",{class:"location"},"Location")),(0,t.createElement)("a",{class:"action",style:n},"Book Now")),(0,t.createElement)("li",null,(0,t.createElement)("div",{class:"wrapper"},(0,t.createElement)("div",{class:"day-time"},(0,t.createElement)("span",{class:"day"},"Day 2nd")," ",(0,t.createElement)("span",{class:"time"},"time")),(0,t.createElement)("div",{class:"title"},"Activity"),(0,t.createElement)("div",{class:"location"},"Location")),(0,t.createElement)("a",{href:"#",class:"action",style:n},"Book Now")),(0,t.createElement)("li",null,(0,t.createElement)("div",{class:"wrapper"},(0,t.createElement)("div",{class:"day-time"},(0,t.createElement)("span",{class:"day"},"Day 3rd")," ",(0,t.createElement)("span",{class:"time"},"time")),(0,t.createElement)("div",{class:"title"},"Activity"),(0,t.createElement)("div",{class:"location"},"Location")),(0,t.createElement)("a",{href:"#",class:"action",style:n},"Book Now")))))}(c.buttonBg,c.buttonColor):"Please enter your Bookwhen API key"),(0,t.createElement)(n.InspectorControls,null,(0,t.createElement)(a.PanelBody,{title:"Options",initialOpen:!0},(0,t.createElement)(a.TextControl,{label:(0,l.__)("Bookwhen API Key","bookwhen"),value:c.key,onChange:e=>s({key:e})}),(0,t.createElement)(a.TextControl,{label:(0,l.__)("Tags (e.g. 'Bristol, Samba')","bookwhen"),value:c.filterTags,onChange:e=>s({filterTags:e})})),(0,t.createElement)(a.PanelBody,{title:"Buttons",initialOpen:!0},(0,t.createElement)("fieldset",null,(0,t.createElement)("legend",{className:"blocks-base-control__label"},(0,l.__)("Background","bookwhen")),(0,t.createElement)(a.ColorPalette,{colors:u,value:c.buttonBg,onChange:e=>{m(e),s({buttonBg:e})}})),(0,t.createElement)("fieldset",null,(0,t.createElement)("legend",null,(0,l.__)("Text","bookwhen")),(0,t.createElement)(a.ColorPalette,{colors:u,value:c.buttonColor,onChange:e=>{m(e),s({buttonColor:e})}})))))},save:function(e){const l="_"+e.attributes.blockId.replaceAll("-",""),a=e.attributes.key,o=e.attributes.filterTags,r=e.attributes.buttonBg,s=e.attributes.buttonColor;if(!a)return"Please enter your Bookwhen API key";let i=[];return r&&i.push(`#${l}.wp-block-bookwhen-schedule a.action { background-color: ${r}!important }`),s&&i.push(`#${l}.wp-block-bookwhen-schedule a.action { color: ${s}!important }`),(0,t.createElement)("div",c({},n.useBlockProps.save(),{id:l,class:"bookwhen-schedule shell","data-api-key":a,"data-filter-tags":o}),(0,t.createElement)("style",{dangerouslySetInnerHTML:{__html:i.join(";")}}),(0,t.createElement)("div",{class:"inner"}))}})}();